<div class="container mt-1">
  <!--Section: Content-->
  <section class="mx-md-2 dark-grey-text">
    <!-- Grid row -->
    <div class="row">
      <!-- Grid column -->
      <div class="col-md-12">
        <div *ngIf="event">
          <!-- Card -->
          <div class="card card-cascade wider reverse">
            <!-- Card image -->
            <div class="view view-cascade overlay">
              <div *ngIf="event.imageId">
                <img
                  class="card-img-top"
                  src="http://localhost:8080/files/{{ event.imageId }}"
                  alt=""
                  style="object-fit: cover; width: 100%; height: 337px"
                />
              </div>
            </div>

            <!-- Card content -->
            <div class="card-body card-body-cascade text-center">
              <!-- Title -->
              <h3 class="font-weight-bold">
                <div *ngIf="event.nameEvent && !nameChange">
                  {{ event.nameEvent }}
                </div>
                <div *ngIf="nameChange">
                  <input
                    id="name"
                    name="name"
                    type="text"
                    minlength="4"
                    maxlength="20"
                    #nameEvent="ngModel"
                    [(ngModel)]="event.nameEvent"
                    class="form-control"
                  />
                  <div class="alert-danger" *ngIf="nameEvent.invalid">
                    <div *ngIf="notIncluded.errors.minlength">
                      {{'Name too short' | translate}}
                    </div>
                    <div *ngIf="nameEvent.errors.maxlength">
                      {{'Name too long' | translate}}
                    </div>
                  </div>
                </div>

              </h3>

              <!-- Data -->
              <div class = "row">
                <div class = "col-md-3"></div>
                <div class = "col-md-3">
              <div *ngIf="event.dateStart && !startDateChange">
                {{ event.dateStart | date: "dd/MM/yyyy" }}
              </div>
              <div *ngIf="startDateChange">
                <input class="form-control"
                       placeholder="yyyy-mm-dd"
                       name="dateStart"
                       [(ngModel)]="dateStart"
                       ngbDatepicker #d1="ngbDatepicker"
                       >

                  <button
                    class=" row-8 col-3 btn btn-dark"
                    (click)="d1.toggle()"
                    type="button"><label>{{'Calendar' | translate}}</label>
                  </button>
                </div>
              </div>


                -
              <div class = "col-md-3">
                <div *ngIf="event.dateEnd && !endDateChange">
                  {{ event.dateEnd | date: "dd/MM/yyyy" }}
                </div>
                <div *ngIf="endDateChange">
                  <input class="form-control"
                         placeholder="yyyy-mm-dd"
                         name="dateEnd"
                         [(ngModel)]="dateEnd"
                         ngbDatepicker #d2="ngbDatepicker">
                         <button
                      class=" row-8 col-3 btn btn-dark btn-block"
                      (click)="d2.toggle()"
                      type="button"><label>{{'Calendar' | translate}}</label>
                    </button>
                </div>
              </div>
                      <div class = "col-md-3"></div>
            </div>
            <button
                        class="btn btn-light"
                        *ngIf="!nameChange"
                        (click)="changeNameFun()"
                      >
                      {{'Edit name' | translate}}
                      </button>
                      <button
                        class="btn btn-light"
                        *ngIf="nameChange"
                        (click)="changeNameFun()"
                      >
                        Ok
                      </button>

                      <button
                class="btn btn-dark"
                *ngIf="!startDateChange"
                (click)="changeDateStartFun()"
              >
              {{'Edit From' | translate}}
              </button>
              <button
                class="btn btn-dark"
                *ngIf="startDateChange"
                (click)="changeDateStartFun()"
              >
                Ok
              </button>

                      <button
                      class="btn btn-light"
                      *ngIf="!endDateChange"
                      (click)="changeDateEndFun()"
                    >
                    {{'Edit To' | translate}}
                    </button>
                    <button
                      class="btn btn-light"
                      *ngIf="endDateChange"
                      (click)="changeDateEndFun()"
                    >
                      Ok
                    </button>

                    <button
                    class="btn btn-dark"
                    *ngIf="!imageChange"
                    (click)="changeImageFun()"
                  >
                  {{'Edit Image' | translate}}
                  </button>
                  <button
                    class="btn btn-dark"
                    *ngIf="imageChange"
                    (click)="changeImageFun()"
                  >
                    Ok
                  </button>

                  <div *ngIf="imageChange">
                    <app-upload-pic (idChanged)="idChangedHandler($event)"></app-upload-pic>
                  </div>
          </div>
            <!-- Card content -->
          </div>
          <!-- Card -->

          <div class="container-fluid pt-4">
            <div class="row mt-4">
              <div class="col-md-12">
                <div class="row">
                  <div class="col-md-6">
                    <address>
                      <div class="row">
                        <div class="col-md-4">
                      <strong>{{'Price' | translate}}:</strong>
                    </div>
                    <div class="col-md-6">
                      <div *ngIf="event.price && !priceChange">
                        {{ event.price }} euro
                      </div>
                      <div *ngIf="priceChange">
                        <input
                          id="price"
                          name="price"
                          type="text"
                          #price="ngModel"
                          [(ngModel)]="event.price"
                          class="form-control"
                        />

                      </div>
                    </div>
                    <div class="col-md-1">
                      <button
                        class="btn btn-light mt-1"
                        *ngIf="!priceChange"
                        (click)="changePriceFun()"
                      >
                      {{'Edit' | translate}}
                      </button>
                      <button
                        class="btn btn-light mt-1"
                        *ngIf="priceChange"
                        (click)="changePriceFun()"
                      >
                        Ok
                      </button>
                    </div>
                    </div>
                    <div class="row">
                      <div class="col-md-4">
                      <strong>{{'Total places' | translate}}: </strong>
                    </div>
                    <div class="col-md-6">
                      <div *ngIf="event.numPlaces && !numPlacesChange">
                        {{ event.numPlaces }}
                      </div>
                      <div *ngIf="numPlacesChange">
                        <input
                          id="numPlaces"
                          name="numPlaces"
                          type="text"
                          #numPlaces="ngModel"
                          [(ngModel)]="event.numPlaces"
                          class="form-control"
                        />

                      </div>
                    </div>
                    <div class="col-md-1">
                      <button
                        class="btn btn-light mt-1"
                        *ngIf="!numPlacesChange"
                        (click)="changePlaceNumFun()"
                      >
                      {{'Edit' | translate}}
                      </button>
                      <button
                        class="btn btn-light mt-1"
                        *ngIf="numPlacesChange"
                        (click)="changePlaceNumFun()"
                      >
                        Ok
                      </button>
                    </div>
                    </div>
                    <div class="row">
                      <div class="col-md-4">
                      <strong>{{'Meeting Place' | translate}}: </strong>
                    </div>
                    <div class="col-md-6">
                      <div *ngIf="event.meetingPlace && !meetingPlaceChange">
                        {{ event.meetingPlace }}
                      </div>
                      <div *ngIf="meetingPlaceChange">
                        <input
                          id="meetingPlace"
                          name="incl"
                          type="text"
                          minlength="4"
                          maxlength="30"
                          #meetingPlace="ngModel"
                          [(ngModel)]="event.meetingPlace"
                          class="form-control"
                        />
                        <div class="alert-danger" *ngIf="meetingPlace.invalid">
                          <div *ngIf="notIncluded.errors.minlength">
                            {{'Meeting place too short' | translate}}
                          </div>
                          <div *ngIf="meetingPlace.errors.maxlength">
                            {{'Meeting place too long' | translate}}
                          </div>
                        </div>
                      </div>
                      </div>
                      <div class="col-md-1">
                      <button
                        class="btn btn-light mt-1"
                        *ngIf="!meetingPlaceChange"
                        (click)="changeMeetingPlaceFun()"
                      >
                      {{'Edit' | translate}}
                      </button>
                      <button
                        class="btn btn-light mt-1"
                        *ngIf="meetingPlaceChange"
                        (click)="changeMeetingPlaceFun()"
                      >
                        Ok
                      </button>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-4">
                      <strong>{{'Inc Price' | translate}}: </strong>
                      </div>
                      <div class="col-md-6">
                      <div *ngIf="event.included && !includedChange">
                        {{ event.included }}
                      </div>
                      <div *ngIf="includedChange">
                        <input
                          id="incl"
                          name="incl"
                          type="text"
                          minlength="4"
                          maxlength="50"
                          #included="ngModel"
                          [(ngModel)]="event.included"
                          class="form-control"
                        />
                        <div class="alert-danger" *ngIf="included.invalid">
                          <div *ngIf="notIncluded.errors.minlength">
                            {{'At least 4' | translate}}
                          </div>
                          <div *ngIf="included.errors.maxlength">
                            {{'At most 50' | translate}}
                          </div>
                        </div>
                      </div>
                      </div>
                      <div class="col-md-1">
                      <button
                        class="btn btn-light mt-1"
                        *ngIf="!includedChange "
                        (click)="changeInPriceFun()"
                      >
                      {{'Edit' | translate}}
                      </button>
                      <button
                        class="btn btn-light mt-1"
                        *ngIf="includedChange"
                        (click)="changeInPriceFun()"
                      >
                        Ok
                      </button>
                      </div>
                      </div>
                      <div class="row">
                        <div class="col-md-4">
                      <strong>{{'Not Inc Price' | translate}}: </strong>
                      </div>
                      <div class="col-md-6">
                      <div *ngIf="event.notIncluded && !notIncludedChange">
                        {{ event.notIncluded }}
                      </div>
                      <div *ngIf="notIncludedChange">
                        <input
                          id="notIncl"
                          name="notIncl"
                          type="text"
                          minlength="4"
                          maxlength="50"
                          #notIncluded="ngModel"
                          [(ngModel)]="event.notIncluded"
                          class="form-control"
                        />
                        <div class="alert-danger" *ngIf="notIncluded.invalid">
                          <div *ngIf="notIncluded.errors.minlength">
                            {{'At least 4' | translate}}
                          </div>
                          <div *ngIf="notIncluded.errors.maxlength">
                            {{'At most 50' | translate}}
                          </div>
                        </div>
                      </div>
                      </div>
                      <div class="col-md-1">
                      <button
                        class="btn btn-light mt-1"
                        *ngIf="!notIncludedChange"
                        (click)="changeNotInPriceFun()"
                      >
                      {{'Edit' | translate}}
                      </button>
                      <button
                        class="btn btn-light mt-1"
                        *ngIf="notIncludedChange"
                        (click)="changeNotInPriceFun()"
                      >
                        Ok
                      </button>
                      </div>
                    </div>
                    </address>
                  </div>
                  <div class="col-md-6">
                    <address>

                      <strong>{{'Schedule' | translate}}: </strong>


                        <div *ngIf="event.schedule && !scheduleChange">
                          {{ event.schedule }}
                        </div>
                        <div *ngIf="scheduleChange">
                          <textarea cols="70" rows="5"
                            id="schedule"
                            name="schedule"
                            type="text"
                            maxlength="250"
                            #schedule="ngModel"
                            [(ngModel)]="event.schedule"
                            class="form-control"
                          >
                          <div class="alert-danger" *ngIf="schedule.invalid">
                            <div *ngIf="notIncluded.errors.maxlength">
                              {{'At most 250' | translate}}
                            </div>
                          </div>
                          </textarea>
                        </div>


                      <button
                      class="btn btn-light mt-1"
                      *ngIf="!scheduleChange"
                      (click)="changeScheduleFun()"
                    >
                    {{'Edit' | translate}}
                    </button>
                    <button
                      class="btn btn-light mt-1"
                      *ngIf="scheduleChange"
                      (click)="changeScheduleFun()"
                    >
                      Ok
                    </button>
                    </address>
                  </div>
                </div>
                <div class="row bg-light mt-4">
                  <div class="col-md-10 pt-4">
                    <div class = "row">
                      <div class="col-md-10">

                        <div *ngIf="event.description && !descriptionChange">
                          {{ event.description }}
                        </div>
                        <div *ngIf="descriptionChange">
                          <textarea cols="40" rows="5"
                            id="description"
                            name="description"
                            type="text"
                            maxlength="250"
                            #description="ngModel"
                            [(ngModel)]="event.description"
                            class="form-control"
                            >

                          <div class="alert-danger" *ngIf="description.invalid">
                            <div *ngIf="description.errors.maxlength">
                              {{'At most 250' | translate}}
                            </div>
                          </div>
                        </textarea>
                        </div>
                  </div>
                  <div class="col-md-1">
                    <button
                      class="btn btn-light mt-1"
                      *ngIf="!descriptionChange"
                      (click)="changeDescriptionFun()"
                    >
                    {{'Edit' | translate}}
                    </button>
                    <button
                      class="btn btn-light mt-1"
                      *ngIf="descriptionChange"
                      (click)="changeDescriptionFun()"
                    >
                      Ok
                    </button>
                  </div>
                  </div>
                </div>
                  <div class="col-md-2">
                    <br />
                    <a
                      class="btn btn-dark btn-block btn-md ml-0 mb-1"
                      routerLink="/admin"
                      role="button"
                      >{{'Back' | translate}}</a
                    >
                    <a
                      class="btn btn-dark btn-md ml-0"
                      routerLink="/add-event-es/{{idEventEs}}"
                      role="button"
                      >{{'Edit spanish' | translate}}</a
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Grid column -->
      </div>
    </div>
    <!-- Grid row -->

    <hr class="mb-5 mt-4" />
  </section>
  <!--Section: Content-->
</div>
